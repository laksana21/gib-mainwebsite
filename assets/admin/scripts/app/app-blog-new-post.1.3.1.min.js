"use strict";
jQuery(document).ready(function()
{
    var quill = new Quill("#editor-container",{
        modules:
        {
            toolbar:
            [
                [{header:[1,2,3,4,5,!1]}],
                [{'font': [] }],
                ["bold","italic","underline","strike"],
                ["blockquote","code-block"],

                [{header:1},{header:2}],
                [{list:"ordered"},{list:"bullet"}],
                [{script:"sub"},{script:"super"}],
                [{indent:"-1"},{indent:"+1"}],

                ['link', 'image'],

                [{ 'color': [] }, { 'background': [] }],
                [{ 'align': [] }],
            ]
        },
        placeholder:"Everytyhing starts from words...",theme:"snow"
    })
	
	var html = quill.container.firstChild.innerHTML;
    $("#conPost").text(html);

    // text-change might not be the right event hook. Works for now though.
    quill.on("text-change", function(delta, source) {
      var html = quill.container.firstChild.innerHTML;
      var markdown = toMarkdown(html);
      var rendered_markdown = md.render(markdown);
      $("#conPost").text(html);
    });
});